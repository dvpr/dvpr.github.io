<!DOCTYPE html>
<html>
  <head>
      <title>Aliyun_CentOS</title>
      <style>.markdown-preview { font-family: 'Helvetica Neue', Helvetica, sans-serif; font-size: 14px; line-height: 1.6; overflow: scroll; box-sizing: border-box; padding: 20px; background-color: rgb(255, 255, 255); }
.markdown-preview code { color: rgb(51, 51, 51); }
.markdown-preview code, .markdown-preview tt, .markdown-preview pre.editor-colors { font-size: 12px; font-family: Consolas, 'Liberation Mono', Courier, monospace; }
.markdown-preview a, .markdown-preview a code { color: rgb(65, 131, 196); }
.markdown-preview ol > li { list-style-type: decimal; }
.markdown-preview ul > li { list-style-type: disc; }
.markdown-preview li > pre.editor-colors { display: inline-block; vertical-align: top; width: 100%; }
.markdown-preview li:last-child > pre.editor-colors { margin-bottom: 0px; }
.markdown-preview > :first-child { margin-top: 0px !important; }
.markdown-preview > :last-child { margin-bottom: 0px !important; }
.markdown-preview a.absent { color: rgb(204, 0, 0); }
.markdown-preview a.anchor { display: block; padding-left: 30px; margin-left: -30px; cursor: pointer; position: absolute; top: 0px; left: 0px; bottom: 0px; }
.markdown-preview h1, .markdown-preview h2, .markdown-preview h3, .markdown-preview h4, .markdown-preview h5, .markdown-preview h6 { font-family: 'Helvetica Neue', Helvetica, sans-serif; margin: 20px 0px 10px; padding: 0px 0px 10px; font-weight: bold; -webkit-font-smoothing: antialiased; cursor: text; position: relative; }
.markdown-preview h1 .octicon-link, .markdown-preview h2 .octicon-link, .markdown-preview h3 .octicon-link, .markdown-preview h4 .octicon-link, .markdown-preview h5 .octicon-link, .markdown-preview h6 .octicon-link { display: none; color: rgb(0, 0, 0); }
.markdown-preview h1:hover a.anchor, .markdown-preview h2:hover a.anchor, .markdown-preview h3:hover a.anchor, .markdown-preview h4:hover a.anchor, .markdown-preview h5:hover a.anchor, .markdown-preview h6:hover a.anchor { text-decoration: none; line-height: 1; padding-left: 0px; margin-left: -22px; top: 15%; }
.markdown-preview h1:hover a.anchor .octicon-link, .markdown-preview h2:hover a.anchor .octicon-link, .markdown-preview h3:hover a.anchor .octicon-link, .markdown-preview h4:hover a.anchor .octicon-link, .markdown-preview h5:hover a.anchor .octicon-link, .markdown-preview h6:hover a.anchor .octicon-link { display: inline-block; }
.markdown-preview h1 tt, .markdown-preview h2 tt, .markdown-preview h3 tt, .markdown-preview h4 tt, .markdown-preview h5 tt, .markdown-preview h6 tt, .markdown-preview h1 code, .markdown-preview h2 code, .markdown-preview h3 code, .markdown-preview h4 code, .markdown-preview h5 code, .markdown-preview h6 code { font-size: inherit; }
.markdown-preview h1 { font-size: 28px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(221, 221, 221); color: rgb(0, 0, 0); }
.markdown-preview h2 { font-size: 24px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); color: rgb(0, 0, 0); }
.markdown-preview h3 { font-size: 18px; }
.markdown-preview h4 { font-size: 16px; }
.markdown-preview h5 { font-size: 14px; }
.markdown-preview h6 { color: rgb(119, 119, 119); font-size: 14px; }
.markdown-preview p, .markdown-preview blockquote, .markdown-preview ul, .markdown-preview ol, .markdown-preview dl, .markdown-preview table, .markdown-preview pre.editor-colors { margin: 15px 0px; }
.markdown-preview hr { border: 0px none; color: rgb(204, 204, 204); height: 4px; padding: 0px; margin: 15px 0px; background: url('data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAYAAACtBE5DAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OENDRjNBN0E2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OENDRjNBN0I2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4Q0NGM0E3ODY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Q0NGM0E3OTY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqqezsUAAAAfSURBVHjaYmRABcYwBiM2QSA4y4hNEKYDQxAEAAIMAHNGAzhkPOlYAAAAAElFTkSuQmCC') 0px 0px repeat-x transparent; }
.markdown-preview > h2:first-child, .markdown-preview > h1:first-child, .markdown-preview > h1:first-child + h2, .markdown-preview > h3:first-child, .markdown-preview > h4:first-child, .markdown-preview > h5:first-child, .markdown-preview > h6:first-child { margin-top: 0px; padding-top: 0px; }
.markdown-preview a:first-child h1, .markdown-preview a:first-child h2, .markdown-preview a:first-child h3, .markdown-preview a:first-child h4, .markdown-preview a:first-child h5, .markdown-preview a:first-child h6 { margin-top: 0px; padding-top: 0px; }
.markdown-preview h1 + p, .markdown-preview h2 + p, .markdown-preview h3 + p, .markdown-preview h4 + p, .markdown-preview h5 + p, .markdown-preview h6 + p { margin-top: 0px; }
.markdown-preview li p.first { display: inline-block; }
.markdown-preview ul, .markdown-preview ol { padding-left: 30px; }
.markdown-preview ul.no-list, .markdown-preview ol.no-list { list-style-type: none; padding: 0px; }
.markdown-preview ul li > :first-child, .markdown-preview ol li > :first-child, .markdown-preview ul li ul:first-of-type, .markdown-preview ol li ul:first-of-type { margin-top: 0px; }
.markdown-preview ul ul, .markdown-preview ul ol, .markdown-preview ol ol, .markdown-preview ol ul { margin-bottom: 0px; }
.markdown-preview dl { padding: 0px; }
.markdown-preview dl dt { font-size: 14px; font-weight: bold; font-style: italic; padding: 0px; margin: 15px 0px 5px; }
.markdown-preview dl dt:first-child { padding: 0px; }
.markdown-preview dl dt > :first-child { margin-top: 0px; }
.markdown-preview dl dt > :last-child { margin-bottom: 0px; }
.markdown-preview dl dd { margin: 0px 0px 15px; padding: 0px 15px; }
.markdown-preview dl dd > :first-child { margin-top: 0px; }
.markdown-preview dl dd > :last-child { margin-bottom: 0px; }
.markdown-preview blockquote { border-left-width: 4px; border-left-style: solid; border-left-color: rgb(221, 221, 221); padding: 0px 15px; color: rgb(119, 119, 119); }
.markdown-preview blockquote > :first-child { margin-top: 0px; }
.markdown-preview blockquote > :last-child { margin-bottom: 0px; }
.markdown-preview blockquote p { font-size: 16px; line-height: 1.5; }
.markdown-preview table th { font-weight: bold; }
.markdown-preview table th, .markdown-preview table td { border: 1px solid rgb(204, 204, 204); padding: 6px 13px; }
.markdown-preview table tr { border-top-width: 1px; border-top-style: solid; border-top-color: rgb(204, 204, 204); background-color: rgb(255, 255, 255); }
.markdown-preview table tr:nth-child(2n) { background-color: rgb(248, 248, 248); }
.markdown-preview img { max-width: 100%; }
.markdown-preview span.frame { display: block; overflow: hidden; }
.markdown-preview span.frame > span { border: 1px solid rgb(221, 221, 221); display: block; float: left; overflow: hidden; margin: 13px 0px 0px; padding: 7px; width: auto; }
.markdown-preview span.frame span img { display: block; float: left; }
.markdown-preview span.frame span span { clear: both; color: rgb(51, 51, 51); display: block; padding: 5px 0px 0px; }
.markdown-preview span.align-center { display: block; overflow: hidden; clear: both; }
.markdown-preview span.align-center > span { display: block; overflow: hidden; margin: 13px auto 0px; text-align: center; }
.markdown-preview span.align-center span img { margin: 0px auto; text-align: center; }
.markdown-preview span.align-right { display: block; overflow: hidden; clear: both; }
.markdown-preview span.align-right > span { display: block; overflow: hidden; margin: 13px 0px 0px; text-align: right; }
.markdown-preview span.align-right span img { margin: 0px; text-align: right; }
.markdown-preview span.float-left { display: block; margin-right: 13px; overflow: hidden; float: left; }
.markdown-preview span.float-left span { margin: 13px 0px 0px; }
.markdown-preview span.float-right { display: block; margin-left: 13px; overflow: hidden; float: right; }
.markdown-preview span.float-right > span { display: block; overflow: hidden; margin: 13px auto 0px; text-align: right; }
.markdown-preview code, .markdown-preview tt { margin: 0px 2px; padding: 0px 5px; border: 1px solid rgb(234, 234, 234); border-radius: 3px; text-shadow: none; background-color: rgb(248, 248, 248); }
.markdown-preview code { white-space: nowrap; }
.markdown-preview pre.editor-colors { font-size: 13px; line-height: 19px; overflow: auto; padding: 6px 10px; border-radius: 3px; border: 1px solid rgb(18, 20, 23); background: rgb(41, 44, 51); }
.markdown-preview kbd { border-radius: 2px; border-width: 1px; border-style: solid; border-color: rgb(221, 221, 221) rgb(204, 204, 204) rgb(204, 204, 204) rgb(221, 221, 221); padding: 1px 4px; line-height: 10px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; background-image: linear-gradient(rgb(241, 241, 241), rgb(221, 221, 221)); background-color: rgb(221, 221, 221); background-repeat: repeat-x; }
.markdown-preview .emoji { height: 20px; width: 20px; }
.bracket-matcher .region {
  border-bottom: 1px dotted lime;
  position: absolute;
}

.spell-check-misspelling .region {
  border-bottom: 1px dashed rgba(250, 128, 114, 0.5);
}

pre.editor-colors,
.host {
  background-color: #292c33;
  color: #95a2bb;
}
pre.editor-colors .line.cursor-line,
.host .line.cursor-line {
  background-color: rgba(153, 187, 255, 0.04);
}
pre.editor-colors .invisible,
.host .invisible {
  color: #95a2bb;
}
pre.editor-colors .cursor,
.host .cursor {
  border-left: 2px solid #3d7af5;
}
pre.editor-colors .selection .region,
.host .selection .region {
  background-color: #3f454f;
}
pre.editor-colors .bracket-matcher .region,
.host .bracket-matcher .region {
  border-bottom: 1px solid #3d7af5;
  box-sizing: border-box;
  background-color: #363b44;
}
pre.editor-colors .invisible-character,
.host .invisible-character {
  color: rgba(149, 162, 187, 0.15);
}
pre.editor-colors .indent-guide,
.host .indent-guide {
  color: rgba(149, 162, 187, 0.15);
}
pre.editor-colors .wrap-guide,
.host .wrap-guide {
  background-color: rgba(149, 162, 187, 0.15);
}
pre.editor-colors .gutter .line-number,
.host .gutter .line-number {
  color: #5a5b5e;
  -webkit-font-smoothing: antialiased;
}
pre.editor-colors .gutter .line-number.git-line-removed:before,
.host .gutter .line-number.git-line-removed:before {
  bottom: -3px;
}
pre.editor-colors .gutter .line-number.git-line-removed:after,
.host .gutter .line-number.git-line-removed:after {
  content: "";
  position: absolute;
  left: 0px;
  bottom: 0px;
  width: 25px;
  border-bottom: 1px dotted rgba(224, 82, 82, 0.5);
  pointer-events: none;
}
pre.editor-colors .gutter .line-number.cursor-line,
.host .gutter .line-number.cursor-line {
  color: #95a2bb;
  background-color: #2d3139;
}
pre.editor-colors .gutter .line-number.cursor-line-no-selection,
.host .gutter .line-number.cursor-line-no-selection {
  background-color: transparent;
}
pre.editor-colors .gutter .line-number .icon-right,
.host .gutter .line-number .icon-right {
  color: #95a2bb;
}
pre.editor-colors .gutter .line-number .icon-right,
.host .gutter .line-number .icon-right {
  color: #95a2bb;
}
pre.editor-colors .gutter .line-number.folded,
.host .gutter .line-number.folded,
pre.editor-colors .gutter .line-number:after,
.host .gutter .line-number:after,
pre.editor-colors .fold-marker:after,
.host .fold-marker:after {
  color: #95a2bb;
}
.comment {
  color: #5f6b85;
  font-style: italic;
}
.entity.name.type {
  color: #d9bd86;
}
.entity.other.inherited-class {
  color: #88b379;
}
.keyword {
  color: #b27ecd;
}
.keyword.control {
  color: #b27ecd;
}
.keyword.operator {
  color: #95a2bb;
}
.keyword.other.special-method {
  color: #66a5df;
}
.keyword.other.unit {
  color: #d49a67;
}
.storage {
  color: #b27ecd;
}
.constant {
  color: #d49a67;
}
.constant.character.escape {
  color: #59b3c5;
}
.constant.numeric {
  color: #d49a67;
}
.constant.other.color {
  color: #59b3c5;
}
.constant.other.symbol {
  color: #59b3c5;
}
.variable {
  color: #bf6e7c;
}
.variable.interpolation {
  color: #8f5355;
}
.variable.parameter.function {
  color: #95a2bb;
}
.invalid.illegal {
  background-color: #bf6e7c;
  color: #292c33;
}
.string {
  color: #88b379;
}
.string.regexp {
  color: #59b3c5;
}
.string.regexp .source.ruby.embedded {
  color: #f18217;
}
.string.other.link {
  color: #bf6e7c;
}
.punctuation.definition.comment {
  color: #5f6b85;
}
.punctuation.definition.parameters,
.punctuation.definition.array {
  color: #95a2bb;
}
.punctuation.definition.heading,
.punctuation.definition.identity {
  color: #66a5df;
}
.punctuation.definition.bold {
  color: #d9bd86;
  font-weight: bold;
}
.punctuation.definition.italic {
  color: #b27ecd;
  font-style: italic;
}
.punctuation.section.embedded {
  color: #8f5355;
}
.support.class {
  color: #d9bd86;
}
.support.function {
  color: #59b3c5;
}
.support.function.any-method {
  color: #66a5df;
}
.entity.name.function {
  color: #66a5df;
}
.entity.name.class,
.entity.name.type.class {
  color: #d9bd86;
}
.entity.name.section {
  color: #66a5df;
}
.entity.name.tag {
  color: #bf6e7c;
}
.entity.other.attribute-name {
  color: #d49a67;
}
.entity.other.attribute-name.id {
  color: #66a5df;
}
.meta.class {
  color: #d9bd86;
}
.meta.link {
  color: #d49a67;
}
.meta.require {
  color: #66a5df;
}
.meta.selector {
  color: #b27ecd;
}
.meta.separator {
  background-color: #373b41;
  color: #95a2bb;
}
.meta.tag {
  color: #95a2bb;
}
.none {
  color: #95a2bb;
}
.markup.bold {
  color: #d49a67;
  font-weight: bold;
}
.markup.changed {
  color: #b27ecd;
}
.markup.deleted {
  color: #bf6e7c;
}
.markup.italic {
  color: #b27ecd;
  font-style: italic;
}
.markup.heading .punctuation.definition.heading {
  color: #66a5df;
}
.markup.inserted {
  color: #88b379;
}
.markup.list {
  color: #bf6e7c;
}
.markup.quote {
  color: #d49a67;
}
.markup.raw.inline {
  color: #88b379;
}
.source.gfm .markup {
  -webkit-font-smoothing: auto;
}
.source.gfm .markup.heading {
  color: #bf6e7c;
}
.source.gfm .markup.link {
  color: #b27ecd;
}
.source.gfm .link .entity {
  color: #66a5df;
}
.ruby.symbol > .punctuation {
  color: inherit;
}
</style>
  </head>
  <body class='markdown-preview'><h2 id="aliyun-centos">Aliyun CentOS</h2>
<h3 id="-yum-">添加yum源</h3>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>rpm&nbsp;-Uvh&nbsp;</span><span class="markup underline link http hyperlink"><span>http://mirror.webtatic.com/yum/el6/latest.rpm</span></span></span></span></div></pre><h3 id="-">服务器部署记录</h3>
<ul>
<li><h5 id="-">查看信息</h5>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>cat&nbsp;/etc/redhat-release，查看版本</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>uname&nbsp;-a&nbsp;–&nbsp;显示版本和内核信息</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>rpm&nbsp;-q&nbsp;kernel&nbsp;–&nbsp;显示内核版本</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>yum&nbsp;-y&nbsp;update&nbsp;–&nbsp;升级所有应用版本，更新CentOS到最新镜像版本</span></span></span></div></pre></li>
<li><h5 id="-">安装</h5>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>yum&nbsp;install&nbsp;mysql&nbsp;mysql-server&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//安装Mysql</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>chkconfig&nbsp;--levels&nbsp;235&nbsp;mysqld&nbsp;on&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//Mysql开机启动</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>/etc/init.d/mysqld&nbsp;start&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//运行mysql</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>mysql_secure_installation-----------------不好使&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//Mysql安装向导</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>mysqladmin&nbsp;-u&nbsp;root&nbsp;password&nbsp;xx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置mysql密码</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>yum&nbsp;install&nbsp;httpd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//安装Apache</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>chkconfig&nbsp;--levels&nbsp;235&nbsp;httpd&nbsp;on&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//Apache开机启动</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>/etc/init.d/httpd&nbsp;start&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//启动Apache</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>访问域名</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>apache&nbsp;preloadpage---------------干啥用啊</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>yum&nbsp;install&nbsp;php/php53&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//安装php</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>/etc/init.d/httpd&nbsp;restart&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//重启Apache</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>yum&nbsp;search&nbsp;php&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//搜索php相关模块</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>yum&nbsp;install&nbsp;php-mysql&nbsp;php-gd&nbsp;php-imap&nbsp;php-ldap&nbsp;php-odbc&nbsp;php-pear&nbsp;php-xml&nbsp;php-xmlrpc&nbsp;&nbsp;//安装php模块</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>/etc/init.d/httpd&nbsp;restart&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//重启Apache</span></span></span></div></pre></li>
<li><p><a href="http://wiki.centos.org/HowTos/Chroot_Vsftpd_with_non-system_users">VSFTP</a> 安装ftp</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>yum&nbsp;install&nbsp;vsftpd&nbsp;db4-utils</span></span></span></div></pre><p><a href="http://wiki.centos.org/HowTos/Chroot_Vsftpd_with_non-system_users?action=AttachFile&amp;do=get&amp;target=vsftpd_virtual_config_withTLS.sh">vsftpd_virtual_config_withTLS</a> 下载配置脚本</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>chkconfig&nbsp;--levels&nbsp;235&nbsp;vsftpd&nbsp;on</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>iptables&nbsp;-A&nbsp;INPUT&nbsp;-m&nbsp;state&nbsp;--state&nbsp;NEW&nbsp;-m&nbsp;tcp&nbsp;-p&nbsp;tcp&nbsp;--dport&nbsp;21&nbsp;-j&nbsp;ACCEPT</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>iptables&nbsp;-A&nbsp;INPUT&nbsp;-m&nbsp;state&nbsp;--state&nbsp;NEW&nbsp;-m&nbsp;tcp&nbsp;-p&nbsp;tcp&nbsp;--dport&nbsp;64000:65535&nbsp;-j&nbsp;ACCEPT</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>vim&nbsp;/etc/vsftpd/vsftpd.conf&nbsp;&nbsp;//修改主机ip</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>/etc/init.d/vsftpd&nbsp;restart&nbsp;&nbsp;&nbsp;//重启vsftp&nbsp;&nbsp;</span></span></span></div></pre></li>
<li><h5 id="-ftp">配置FTP</h5>
<p>修改ftp路径</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>/etc/vsftpd/users&nbsp;//编辑相应用户文件</span></span></span></div></pre></li>
</ul>
<h3 id="-apache-mysql-php">配置apache、mysql、php</h3>
<ul>
<li><p>apache 配置</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>#vi&nbsp;/etc/httpd/conf/httpd.conf</span></span></span></div></pre><pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>#Servername&nbsp;www.example.com&nbsp;&nbsp;80&nbsp;修改为：&nbsp;Servername&nbsp;www.mglog.net&nbsp;&nbsp;80</span></span></span></div></pre><p>  (指定为你自己的域名，如果没有域名，设置为localhost)</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>ServerTokens&nbsp;&nbsp;OS&nbsp;&nbsp;修改为：&nbsp;ServerTokens&nbsp;Prod</span></span></span></div></pre><p>  (大约在44行，在出现错误页的时候不显示服务器操作系统名称)</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>ServerSignature&nbsp;On&nbsp;&nbsp;修改为：&nbsp;ServerSignature&nbsp;Off</span></span></span></div></pre><p>  (大约在536行，在错误页中不显示Apache版本)</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>--------------------Options&nbsp;Indexes&nbsp;FollowSymLinks&nbsp;修改为：Options&nbsp;Includes&nbsp;ExecCGI&nbsp;FollowSymLinks</span></span></span></div></pre><p>  (大约在在331行，允许服务器执行CGI及SSI，禁止列出目录)  </p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>---------------------#AddHandler&nbsp;cgi-script&nbsp;.cgi&nbsp;修改为：AddHandler&nbsp;cgi-script&nbsp;.cgi&nbsp;.pl</span></span></span></div></pre><p>  (大约在在796行， 允许扩展名为.pl的CGI脚本运行)  </p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>-------------------AllowOverride&nbsp;None&nbsp;&nbsp;修改为：AllowOverride&nbsp;All</span></span></span></div></pre><p>  (大约在338行，允许.htaccess)</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>-------------------AddDefaultCharset&nbsp;UTF-8&nbsp;修改为：AddDefaultCharset&nbsp;GB2312</span></span></span></div></pre><p>  (大约在，在759行 添加GB2312为默认编码)  </p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>------------------&nbsp;Options&nbsp;Indexes&nbsp;MultiViews&nbsp;FollowSymLinks&nbsp;修改为</span></span></span></div></pre><p>  (不在浏览器上显示树状目录结构，大约在554行)  </p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>DirectoryIndex&nbsp;index.html&nbsp;index.html.var&nbsp;&nbsp;修&nbsp;改为：DirectoryIndex&nbsp;index.html&nbsp;index.htm&nbsp;Default.html&nbsp;Default.htm&nbsp;index.php&nbsp;Default.php&nbsp;index.html.var</span></span></span></div></pre><p>  (设置默认首页文件，增加index.php，约在在402行)  </p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>---------------------&nbsp;KeepAlive&nbsp;Off&nbsp;修改为：KeepAlive&nbsp;On</span></span></span></div></pre><p>  (允许程序性联机 约在76行)  </p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>MaxKeepAliveRequests&nbsp;100&nbsp;修改为：MaxKeepAliveRequests&nbsp;1000</span></span></span></div></pre><p>  (增加同时连接数，约在83行)</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>:wq!&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#保存退出</span></span></span></div></pre></li>
<li><p>php配置  </p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>#&nbsp;vi&nbsp;/etc/php.ini</span></span></span></div></pre><pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>date.timezone&nbsp;=&nbsp;PRC&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#在946行&nbsp;把前面的分号去掉，改为date.timezone&nbsp;=&nbsp;PRC</span></span></span></div></pre><pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>disable_functions&nbsp;&nbsp;=passthru,exec,system,chroot,scandir,chgrp,chown,shell_exec,proc_open,proc_get_status,ini_alter,ini_alter,ini_restore,dl,openlog,syslog,readlink,symlink,popepassthru,stream_socket_server,escapeshellcmd,dll,popen,disk_free_space,checkdnsrr,checkdnsrr,getservbyname,getservbyport,disk_total_space,posix_ctermid,posix_get_last_error,posix_getcwd,&nbsp;posix_getegid,posix_geteuid,posix_getgid,&nbsp;&nbsp;posix_getgrgid,posix_getgrnam,posix_getgroups,posix_getlogin,posix_getpgid,posix_getpgrp,posix_getpid,&nbsp;&nbsp;posix_getppid,posix_getpwnam,posix_getpwuid,&nbsp;posix_getrlimit,&nbsp;&nbsp;posix_getsid,posix_getuid,posix_isatty,&nbsp;&nbsp;posix_kill,posix_mkfifo,posix_setegid,posix_seteuid,posix_setgid,&nbsp;posix_setpgid,posix_setsid,posix_setuid,posix_strerror,posix_times,posix_ttyname,posix_uname&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#在386行&nbsp;列出PHP可以禁用的函数，如果某些程序需要用到这个函数，可以删除，取消禁用</span></span></span></div></pre><pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>expose_php&nbsp;=&nbsp;Off&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#在432行&nbsp;禁止显示php版本的信息</span></span></span></div></pre><pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>magic_quotes_gpc&nbsp;=&nbsp;On&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#在745行&nbsp;打开magic_quotes_gpc来防止SQL注入</span></span></span></div></pre><pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>-------------------------------short_open_tag&nbsp;=&nbsp;ON&nbsp;&nbsp;#在229行支持php短标签</span></span></span></div></pre><pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>open_basedir&nbsp;=&nbsp;.:/tmp/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#在380行</span></span></span></div></pre><p>  设置表示允许访问当前目录(即PHP脚本文件所在之目录)和/tmp/目录,可以防止php木马跨站,如果改了之后安装程序有问题，可以注销此行，或者直接写上程序的目录/data/web/:/tmp/</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>:wq!&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#保存退出</span></span></span></div></pre><pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>/etc/init.d/mysqld&nbsp;restart&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;重启Mysql</span></span></span></div></pre><pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>/etc/init.d/httpd&nbsp;&nbsp;restart&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;重启Apache</span></span></span></div></pre></li>
</ul>
<h3 id="-80-3306-">配置防火墙，开启80、3306端口</h3>
<ul>
<li><p>防火墙添加80、3306  </p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>#vim&nbsp;/etc/sysconfig/iptables&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#打开此表</span></span></span></div></pre><pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>#&nbsp;Firewall&nbsp;configuration&nbsp;written&nbsp;by&nbsp;system-config-firewall</span></span></span></div></pre><pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>#&nbsp;Manual&nbsp;customization&nbsp;of&nbsp;this&nbsp;file&nbsp;is&nbsp;not&nbsp;recommended.</span></span></span></div></pre><p>  *filter</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>:INPUT&nbsp;ACCEPT&nbsp;[0:0]</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>:FORWARD&nbsp;ACCEPT&nbsp;[0:0]</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>:OUTPUT&nbsp;ACCEPT&nbsp;[0:0]&nbsp;&nbsp;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>-A&nbsp;INPUT&nbsp;-m&nbsp;state&nbsp;--state&nbsp;ESTABLISHED,RELATED&nbsp;-j&nbsp;ACCEPT</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>-A&nbsp;INPUT&nbsp;-p&nbsp;icmp&nbsp;-j&nbsp;ACCEPT</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>-A&nbsp;INPUT&nbsp;-i&nbsp;lo&nbsp;-j&nbsp;ACCEPT&nbsp;&nbsp;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>-A&nbsp;INPUT&nbsp;-m&nbsp;state&nbsp;--state&nbsp;NEW&nbsp;-m&nbsp;tcp&nbsp;-p&nbsp;tcp&nbsp;--dport&nbsp;22&nbsp;-j&nbsp;ACCEPT</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>-A&nbsp;INPUT&nbsp;-m&nbsp;state&nbsp;--state&nbsp;NEW&nbsp;-m&nbsp;tcp&nbsp;-p&nbsp;tcp&nbsp;--dport&nbsp;80&nbsp;-j&nbsp;ACCEPT</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>#添加&nbsp;&nbsp;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>-A&nbsp;INPUT&nbsp;-m&nbsp;state&nbsp;--state&nbsp;NEW&nbsp;-m&nbsp;tcp&nbsp;-p&nbsp;tcp&nbsp;--dport&nbsp;3306&nbsp;-j&nbsp;ACCEPT&nbsp;&nbsp;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>#添加&nbsp;&nbsp;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>-A&nbsp;INPUT&nbsp;-j&nbsp;REJECT&nbsp;--reject-with&nbsp;icmp-host-prohibited</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>-A&nbsp;FORWARD&nbsp;-j&nbsp;REJECT&nbsp;--reject-with&nbsp;icmp-host-prohibited</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>COMMIT&nbsp;&nbsp;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>/etc/init.d/iptables&nbsp;restart</span></span></span></div></pre></li>
<li><p>关闭 SELINUX  </p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>#&nbsp;vi&nbsp;/etc/selinux/config</span></span></span></div></pre><p>  把下面两项注释掉</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>#SELINUX=enforcing&nbsp;&nbsp;&nbsp;#注释掉</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>#SELINUX=targeted&nbsp;&nbsp;&nbsp;&nbsp;#注释掉</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>SELINUX=disabled&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#增加</span></span></span></div></pre><pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>:wq!&nbsp;&nbsp;#&nbsp;保存退出</span></span></span></div></pre><pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>#&nbsp;shutdown&nbsp;-r&nbsp;now</span></span></span></div></pre></li>
</ul>
<h3 id="-swap-https-www-digitalocean-com-community-articles-how-to-add-swap-on-centos-6-"><a href="https://www.digitalocean.com/community/articles/how-to-add-swap-on-centos-6">添加SWAP</a></h3>
<ul>
<li><h5 id="check-for-swap-space">Check for Swap Space</h5>
<p>  Before we proceed to set up a swap file, we need to check if any swap files have been enabled by looking at the summary of swap usage.</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>swapon&nbsp;-s</span></span></span></div></pre><p>  If nothing is returned, the summary is empty and no swap file exists.</p>
</li>
<li><h5 id="check-the-file-system">Check the File System</h5>
<p>  After we know that we do not have a swap file enabled, we can check how much space we have on the server with the df command. The swap file will take 512MB— since we are only using up about 7% of the /dev/hda, we can proceed.</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>df</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;Filesystem&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1K-blocks&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Used&nbsp;Available&nbsp;Use%&nbsp;Mounted&nbsp;on</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;/dev/hda&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;20642428&nbsp;&nbsp;&nbsp;1347968&nbsp;&nbsp;18245884&nbsp;&nbsp;&nbsp;7%&nbsp;/</span></span></span></div></pre></li>
<li><h5 id="create-and-enable-the-swap-file">Create and Enable the Swap File</h5>
<p>  Now it’s time to create the swap file itself using the dd command :</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>sudo&nbsp;dd&nbsp;if=/dev/zero&nbsp;of=/swapfile&nbsp;bs=1024&nbsp;count=512k</span></span></span></div></pre><p>  “of=/swapfile” designates the file’s name. In this case the name is swapfile.</p>
<p>  Subsequently we are going to prepare the swap file by creating a linux swap area:</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>sudo&nbsp;mkswap&nbsp;/swapfile</span></span></span></div></pre><p>  The results display:</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>Setting&nbsp;up&nbsp;swapspace&nbsp;version&nbsp;1,&nbsp;size&nbsp;=&nbsp;536866&nbsp;kB</span></span></span></div></pre><p>  Finish up by activating the swap file:</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>sudo&nbsp;swapon&nbsp;/swapfile</span></span></span></div></pre><p>  You will then be able to see the new swap file when you view the swap summary.</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>swapon&nbsp;-s</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;Filename&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Size&nbsp;&nbsp;&nbsp;&nbsp;Used&nbsp;&nbsp;&nbsp;&nbsp;Priority</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;/swapfile&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;524280&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;-1</span></span></span></div></pre><p>  This file will last on the server until the machine reboots. You can ensure that the swap is permanent by adding it to the fstab file.</p>
<p>  Open up the file:</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>sudo&nbsp;nano&nbsp;/etc/fstab</span></span></span></div></pre><p>  Paste in the following line:</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>/swapfile&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;swap&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;swap&nbsp;&nbsp;&nbsp;&nbsp;defaults&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;0</span></span></span></div></pre><p>  阿里云默认是不让用户使用swap的。
  我们需要编辑/etc/rc.d/rc.local文件，将文件中的swapoff行注释或删掉。</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>#swapoff&nbsp;-a</span></span></span></div></pre><p>  To prevent the file from being world-readable, you should set up the correct permissions on the swap file:</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>chown&nbsp;root:root&nbsp;/swapfile</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;chmod&nbsp;0600&nbsp;/swapfile</span></span></span></div></pre><p>  How To Configure Swappiness
  The operating system kernel can adjust how often it relies on swap through a configuration parameter known as swappiness. To find the current swappiness settings, type:</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>cat&nbsp;/proc/sys/vm/swappiness</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;60</span></span></span></div></pre><p>  Swapiness can be a value from 0 to 100. Swappiness near 100 means that the operating system will swap often and usually, too soon. Although swap provides extra resources, RAM is much faster than swap space. Any time something is moved from RAM to swap, it slows down.</p>
<p>  A swappiness value of 0 means that the operating will only rely on swap when it absolutely needs to. We can adjust the swappiness with the sysctl command:</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>sysctl&nbsp;vm.swappiness=10</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;vm.swappiness=10</span></span></span></div></pre><p>  If we check the system swappiness again, we can confirm that the setting was applied:</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>cat&nbsp;/proc/sys/vm/swappiness</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;10</span></span></span></div></pre><p>  To make your VPS automatically apply this setting every time it boots up, you can add the setting to the /etc/sysctl.conf file:
  sudo nano /etc/sysctl.conf
  Search for the vm.swappiness setting.  Uncomment and change it as necessary.</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>vm.swappiness=10</span></span></span></div></pre></li>
</ul></body>
</html>
